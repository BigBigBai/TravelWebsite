{"ast":null,"code":"var _jsxFileName = \"/Users/bigbigbai/Desktop/TravelWebsite/01_website/src/components/pages/Chat.js\";\nimport React, { useEffect, useState } from 'react';\nimport ScrollToBottom from 'react-scroll-to-bottom';\n\nfunction Chat(_ref) {\n  let {\n    socket,\n    username,\n    room\n  } = _ref;\n  const [currentMessage, setCurrentMessage] = useState(\"\");\n  const [messageList, setMessageList] = useState([]);\n\n  const sendMessage = async () => {\n    if (currentMessage !== \"\") {\n      const messageData = {\n        room: room,\n        author: username,\n        message: currentMessage,\n        time: new Date(Date.now()).getHours() + \":\" + new Date(Date.now()).getMinutes()\n      };\n      await socket.emit(\"send_message\", messageData); //be able to see what we send\n\n      setMessageList(list => [...list, messageData]);\n      setCurrentMessage(\"\");\n    }\n  };\n\n  useEffect(() => {\n    socket.on(\"receive_message\", data => {\n      setMessageList(list => [...list, data]);\n    });\n  }, [socket]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-window\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }\n  }, \"Live Chat\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ScrollToBottom, {\n    className: \"message-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, messageList.map(messageContent => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message\",\n      id: username === messageContent.author ? \"you\" : \"other\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 41\n      }\n    }, messageContent.message)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message-meta\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      id: \"time\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 41\n      }\n    }, messageContent.time), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"author\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 41\n      }\n    }, messageContent.author))));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: currentMessage,\n    placeholder: \"Hey...\",\n    onChange: event => {\n      setCurrentMessage(event.target.value);\n    },\n    onKeyPress: event => {\n      event.key === \"Enter\" && sendMessage();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: sendMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, \"\\u25BA\")));\n}\n\nexport default Chat;","map":{"version":3,"names":["React","useEffect","useState","ScrollToBottom","Chat","socket","username","room","currentMessage","setCurrentMessage","messageList","setMessageList","sendMessage","messageData","author","message","time","Date","now","getHours","getMinutes","emit","list","on","data","map","messageContent","event","target","value","key"],"sources":["/Users/bigbigbai/Desktop/TravelWebsite/01_website/src/components/pages/Chat.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport ScrollToBottom from 'react-scroll-to-bottom';\n\nfunction Chat({ socket, username, room }) {\n    const [currentMessage, setCurrentMessage] = useState(\"\");\n    const [messageList, setMessageList] = useState([]);\n\n    const sendMessage = async () => {\n        if (currentMessage !== \"\") {\n            const messageData = {\n                room: room,\n                author: username,\n                message: currentMessage,\n                time: \n                    new Date(Date.now()).getHours() + \n                    \":\" +\n                    new Date(Date.now()).getMinutes(),\n            };\n\n            await socket.emit(\"send_message\", messageData);\n            //be able to see what we send\n            setMessageList((list) => [...list, messageData]);\n            setCurrentMessage(\"\");\n        }\n    };\n\n    useEffect(() => {\n        socket.on(\"receive_message\", (data) => {\n            setMessageList((list) => [...list, data]);    \n        });\n    }, [socket]);    \n\n    return (\n        <div className='chat-window'>\n            <div className='chat-header'>\n                <p>Live Chat</p>\n            </div>\n            <div className='chat-body'>\n                <ScrollToBottom className='message-container'>\n                    {messageList.map((messageContent) => {\n                        return (\n                            <div className='message' id={username === messageContent.author ? \"you\" : \"other\"}>\n                                <div>\n                                    <div className='message-content'>\n                                        <p>{messageContent.message}</p>\n                                    </div>\n                                    <div className='message-meta'>\n                                        <p id=\"time\">{messageContent.time}</p>\n                                        <p id=\"author\">{messageContent.author}</p>\n                                    </div>\n                                </div>\n                            </div>\n                        );\n                    })}\n                </ScrollToBottom>               \n            </div>                \n            <div className='chat-footer'>\n                <input \n                    type=\"text\"\n                    value={currentMessage} \n                    placeholder=\"Hey...\"\n                    onChange={(event) => { \n                        setCurrentMessage(event.target.value); \n                    }} \n                    onKeyPress={(event) => {\n                        event.key === \"Enter\" && sendMessage();\n                    }} \n                />\n                <button onClick={sendMessage}>&#9658;</button>\n            </div>\n        </div>\n    );\n}\n\nexport default Chat;"],"mappings":"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"},"metadata":{},"sourceType":"module"}